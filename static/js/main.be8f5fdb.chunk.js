(this.webpackJsonplung_diseases=this.webpackJsonplung_diseases||[]).push([[0],{322:function(e,t,n){},505:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(24),r=n.n(c),o=(n(322),n(37)),s=n(36),l=n(86),d=n(267),j=n(48),b=n(20),u="ADD_FILE",h="DELETE_FILE",p="DELETE_ALL_FILE",f="UPDATE_FILE",O="ENQUEUE_SNACKBAR",m="CLOSE_SNACKBAR",x="REMOVE_SNACKBAR",g={files:[],labels:["Covid-19","Normal","Pneumonia"]},y={notifications:[]},v=Object(l.c)({xrays:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(b.a)(Object(b.a)({},e),{},{files:[t.payload].concat(Object(j.a)(e.files))});case h:return Object(b.a)(Object(b.a)({},e),{},{files:e.files.filter((function(e){return e.id!==t.payload}))});case p:return Object(b.a)(Object(b.a)({},e),{},{files:[]});case f:return Object(b.a)(Object(b.a)({},e),{},{files:e.files.map((function(e){return e.id===t.payload.id?Object(b.a)(Object(b.a)({},e),t.payload):e}))});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(b.a)(Object(b.a)({},e),{},{notifications:[].concat(Object(j.a)(e.notifications),[Object(b.a)({key:t.key},t.notification)])});case m:return Object(b.a)(Object(b.a)({},e),{},{notifications:e.notifications.map((function(e){return t.dismissAll||e.key===t.key?Object(b.a)(Object(b.a)({},e),{},{dismissed:!0}):Object(b.a)({},e)}))});case x:return Object(b.a)(Object(b.a)({},e),{},{notifications:e.notifications.filter((function(e){return e.key!==t.key}))});default:return e}}}),C=Object(l.d)(v,Object(l.a)(d.a)),w=a.a.createContext(),N=n(545),k=n(528),S=n(578),D=n(294),E=Object(D.a)(),I=Object(D.a)({typography:{fontSize:15,fontFamily:["Poppins","Helvetica","Arial","sans-serif"].join(","),h5:{lineHeight:1.235,letterSpacing:"0.00735em"}},mixins:{drawer:{minWidth:260}},palette:{primary:{main:"#6200ea"},secondary:{main:"#ff80ab"}},overrides:{MuiButton:{root:{borderRadius:E.spacing(1)},contained:{color:E.palette.getContrastText(E.palette.grey[200]),backgroundColor:E.palette.grey[200]}}}}),P=n(115),R=n(29),F=n(574),B=n(510),T=n(540),U=n(576),M=n(6),A=n(541),L=n(530),z=n(15),W=n(531),_=n(2),X=Object(k.a)((function(e){return{root:{padding:e.spacing(0,0,.5,0)},button:{padding:e.spacing(1),width:"100%"},label:{padding:e.spacing(0,1),display:"flex",justifyContent:"start",textTransform:"none"},selected:{backgroundColor:Object(z.c)(e.palette.primary.main,e.palette.action.selectedOpacity)}}})),H=function(e){var t=e.text,n=e.icon,i=e.isSelected,a=e.onClick,c=X();return Object(_.jsx)(L.a,{className:c.root,onClick:a,children:Object(_.jsx)(W.a,{classes:{root:Object(M.a)(c.button,i&&c.selected),label:c.label},size:"large",color:i?"primary":"default",startIcon:n,children:t})})},V=n(532),q=n(533),K=n(534),G=n(535),J=n(536),Q=n(537),Y=Object(k.a)((function(e){return{root:{width:e.mixins.drawer.minWidth,padding:e.spacing(2,2,2,2),height:"100%",flexShrink:0},paper:{padding:e.spacing(2,2,2,2),width:e.mixins.drawer.minWidth},close:{width:0},menuTitle:{marginTop:e.spacing(2),marginLeft:e.spacing(2),fontWeight:e.typography.fontWeightMedium},logoContainer:{display:"flex",alignItems:"center",paddingBottom:e.spacing(1)},logo:{padding:e.spacing(1),height:50,width:50}}})),Z=[{title:"Home",icon:Object(_.jsx)(V.a,{}),path:"/"},{title:"Disease prediction",icon:Object(_.jsx)(q.a,{}),path:"/prediction"},{title:"Settings",icon:Object(_.jsx)(K.a,{}),path:"/settings"}],$=[{title:"Docs",icon:Object(_.jsx)(G.a,{}),path:"/docs"},{title:"Help",icon:Object(_.jsx)(J.a,{}),path:"/help"},{title:"About",icon:Object(_.jsx)(Q.a,{}),path:"/about"}],ee=function(){var e=Y(),t=Object(R.g)(),n=Object(R.h)(),a=Object(i.useContext)(w),c=a.isMobile,r=a.isOpenDrawer,o=a.setIsOpenDrawer,s=function(e){t.push("".concat(e.path)),c&&o(!1)};return Object(_.jsxs)(U.a,{classes:{root:Object(M.a)(e.root,!r&&e.close),paper:e.paper},open:r,anchor:"left",variant:c?"temporary":"persistent",onClose:function(){return o(!1)},children:[Object(_.jsxs)("div",{className:e.logoContainer,children:[Object(_.jsx)("img",{className:e.logo,alt:"logo",src:"logo.png"}),Object(_.jsx)(T.a,{variant:"h6",children:"lungs diseases"})]}),Object(_.jsx)(T.a,{className:e.menuTitle,color:"textSecondary",variant:"overline",children:"MENU"}),Object(_.jsx)(A.a,{disablePadding:!0,children:Z.map((function(e){return Object(_.jsx)(H,{text:e.title,icon:e.icon,onClick:function(){return s(e)},isSelected:e.path===n.pathname},e.path)}))}),Object(_.jsx)(T.a,{className:e.menuTitle,color:"textSecondary",variant:"overline",children:"SUPPORT"}),Object(_.jsx)(A.a,{disablePadding:!0,children:$.map((function(e){return Object(_.jsx)(H,{text:e.title,icon:e.icon,onClick:function(){return s(e)},isSelected:e.path===n.pathname},e.path)}))})]})},te=n(169),ne=function(e){var t=e.options&&e.options.key;return{type:O,notification:Object(b.a)(Object(b.a)({},e),{},{key:t||(new Date).getTime()+Math.random()})}},ie=[],ae=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.notifications.notifications})),n=Object(te.b)(),a=n.enqueueSnackbar,c=n.closeSnackbar;return Object(i.useEffect)((function(){t.forEach((function(t){var n,i=t.key,r=t.message,o=t.options,s=void 0===o?{}:o,l=t.dismissed;void 0!==l&&l?c(i):ie.includes(i)||(a(r,Object(b.a)(Object(b.a)({key:i},s),{},{onClose:function(e,t,n){s.onClose&&s.onClose(e,t,n)},onExited:function(t,n){var i;e(function(e){return{type:x,key:e}}(n)),i=n,ie=Object(j.a)(ie.filter((function(e){return i!==e})))}})),n=i,ie=[].concat(Object(j.a)(ie),[n]))}))}),[t,c,a,e]),null},ce=n(272),re=n.n(ce),oe=n(546),se=n(547),le=n(273),de=n.n(le),je=re()((function(e){return{root:{display:"flex",flexDirection:"row",alignItems:"center",padding:e.spacing(4,0),marginBottom:e.spacing(2)},menuButton:{marginRight:e.spacing(2),borderRadius:e.spacing(1)},title:{flexGrow:1}}})),be={"/":"Overview","/prediction":"Disease prediction","/settings":"Settings"},ue=function(){var e=je(),t=Object(R.h)(),n=Object(i.useContext)(w),a=n.isMobile,c=n.isOpenDrawer,r=n.setIsOpenDrawer;return Object(_.jsxs)(oe.a,{className:e.root,position:"relative",elevation:0,color:"transparent",children:[a&&Object(_.jsx)(se.a,{className:e.menuButton,onClick:function(){return r(!c)},color:"inherit",children:Object(_.jsx)(de.a,{})}),Object(_.jsx)(T.a,{className:e.title,variant:a?"h5":"h4",noWrap:!0,children:be[t.pathname]})]})},he=n(564),pe=n(549),fe=n(577),Oe=n(298),me=n(289),xe=n(125),ge=n(170),ye=n(548),ve=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:e.spacing(2),height:"100%",width:"100%"},chart:{display:"flex",alignSelf:"center",maxWidth:300},legendText:{fontFamily:e.typography.subtitle2.fontFamily,fontSize:e.typography.subtitle2.fontSize,fontWeight:e.typography.subtitle2.fontWeight,color:e.palette.text.primary},label:{fontFamily:e.typography.body1.fontFamily,fontSize:e.typography.body1.fontSize,fontWeight:e.typography.body1.fontWeight}}})),Ce=function(){var e=ve(),t=["#B140CB","#D860BB","#FF80AB"],n=Object(s.c)((function(e){return t=e.xrays.files,n=e.xrays.labels,Object.values(t.map((function(e){return n[e.probability.indexOf(Math.max.apply(Math,Object(j.a)(e.probability)))]})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e[t]=e[t]||{name:t,value:0},e[t].value++,e}),{}));var t,n})),i=[{name:"",value:1}];return Object(_.jsxs)("div",{className:e.root,children:[0===n.length&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ye.a,{}),Object(_.jsx)(T.a,{align:"center",children:"Upload X-Ray to get prediction statistics"})]}),0!==n.length&&Object(_.jsx)(pe.a,{className:e.chart,width:"100%",aspect:1,children:Object(_.jsxs)(fe.a,{children:[Object(_.jsx)(Oe.a,{dataKey:"value",data:0!==n.length?n:i,cx:"50%",cy:"50%",innerRadius:"68%",outerRadius:"90%",cornerRadius:5,paddingAngle:3,labelLine:!1,label:0!==n.length&&function(t){var n=t.cx,i=t.cy,a=t.midAngle,c=t.innerRadius,r=t.outerRadius,o=t.value,s=Math.PI/180,l=c+.5*(r-c),d=n+l*Math.cos(-a*s),j=i+l*Math.sin(-a*s);return Object(_.jsx)("text",{className:e.label,x:d,y:j,fill:"white",textAnchor:"middle",dominantBaseline:"central",children:o})},children:0!==n.length?n.map((function(e,n){return Object(_.jsx)(me.a,{fill:t[n%t.length]},"cell-".concat(n))})):i.map((function(e,t){return Object(_.jsx)(me.a,{fill:ge.a[300]},"cell-".concat(t))}))}),0!==n.length&&Object(_.jsx)(xe.a,{align:"center",iconType:"circle",formatter:function(t,n){return Object(_.jsx)("span",{className:e.legendText,children:t})}})]})})]})},we=n(565),Ne=n(205),ke=n(539),Se=n(554),De=n(555),Ee=n(556),Ie=n(553),Pe=Object(Ne.a)((function(e){return{root:{display:"flex",flexDirection:"column",borderRadius:e.spacing(2),height:"100%",width:"100%"},content:{height:"100%",width:"100%"}}})),Re=function(e){var t=e.items,n=Pe(),a=Object(i.useState)(0),c=Object(o.a)(a,2),r=c[0],s=c[1],l=Object(i.useState)(!0),d=Object(o.a)(l,2),j=d[0],b=d[1],u=function(e){var n=(r+("left"===e?-1:1)+t.length)%t.length;b(!1),setTimeout((function(){s(n),b(!0)}),200)};return Object(_.jsxs)(Ie.a,{className:n.root,variant:"outlined",children:[Object(_.jsx)(ke.a,{in:j,timeout:200,children:Object(_.jsx)("div",{className:n.content,children:0!==t.length&&t[r]})}),Object(_.jsxs)(Se.a,{children:[Object(_.jsx)(se.a,{onClick:function(){return u("left")},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(se.a,{onClick:function(){return u("right")},children:Object(_.jsx)(Ee.a,{})})]})]})},Fe=n(296),Be=n(558),Te=n(559),Ue=n(560),Me=n(561),Ae=n(562),Le=n(579),ze=n(563),We=n(580),_e=n(557),Xe=Object(Ne.a)((function(e){return{root:{width:"100%",height:"100%"},tableCell:{borderBottom:"none"},emptyLog:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:e.spacing(2)}}})),He=function(){var e=Xe();return Object(_.jsxs)("div",{className:e.emptyLog,children:[Object(_.jsx)(_e.a,{}),Object(_.jsx)(T.a,{align:"center",children:"Upload X-Ray to get prediction log"})]})},Ve=function(e){var t=e.children,n=Object(Fe.a)(e,["children"]),i=Xe();return Object(_.jsx)(Be.a,Object(b.a)(Object(b.a)({className:i.tableCell},n),{},{children:t}))},qe=function(){var e=Xe(),t=Object(s.c)((function(e){return e.xrays.labels})),n=Object(s.c)((function(e){return e.xrays.files})),i={hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"};return Object(_.jsxs)("div",{className:e.root,children:[0===n.length&&Object(_.jsx)(He,{}),0!==n.length&&Object(_.jsxs)(Te.a,{size:"small",children:[Object(_.jsx)(Ue.a,{children:Object(_.jsxs)(Me.a,{children:[Object(_.jsx)(Ve,{children:"Image"}),Object(_.jsx)(Ve,{align:"left",children:"File name"}),Object(_.jsx)(Ve,{align:"left",children:"Start prediction date"}),Object(_.jsx)(Ve,{align:"left",children:"Complete prediction date"}),Object(_.jsx)(Ve,{align:"left",children:"Prediction result"}),Object(_.jsx)(Ve,{align:"left",children:"Probability"})]})}),Object(_.jsx)(Ae.a,{children:n.map((function(e){return Object(_.jsxs)(Me.a,{children:[Object(_.jsx)(Ve,{children:Object(_.jsx)(Le.a,{alt:e.fileName,src:e.fileUrl})}),Object(_.jsx)(Ve,{align:"left",component:"th",scope:"row",children:e.fileName}),Object(_.jsx)(Ve,{align:"left",children:e.dateOfStartPrediction&&e.dateOfStartPrediction.toLocaleString("en-US",i)}),Object(_.jsxs)(Ve,{align:"left",children:[e.dateOfCompletePrediction&&e.dateOfCompletePrediction.toLocaleString("en-US",i),"loading"===e.status&&Object(_.jsx)(ze.a,{color:"secondary",size:28,thickness:4})]}),Object(_.jsxs)(Ve,{align:"left",children:["succeeded"===e.status&&Object(_.jsx)("div",{children:t[e.probability.indexOf(Math.max.apply(Math,Object(j.a)(e.probability)))]}),"loading"===e.status&&Object(_.jsx)(ze.a,{color:"secondary",size:28,thickness:4})]}),Object(_.jsxs)(Ve,{align:"left",children:["succeeded"===e.status&&Object(_.jsx)(We.a,{color:"secondary",size:"small",variant:"outlined",label:"".concat((100*Math.max.apply(Math,Object(j.a)(e.probability))).toFixed(1),"%")}),"loading"===e.status&&Object(_.jsx)(ze.a,{color:"secondary",size:28,thickness:4})]})]},e.id)}))})]})]})},Ke=Object(Ne.a)((function(e){return{root:{display:"flex",flexDirection:"column",borderRadius:e.spacing(2),height:"100%",width:"100%"},title:{padding:e.spacing(2)}}})),Ge=function(e){var t=e.title,n=e.children,i=Ke();return Object(_.jsxs)(Ie.a,{className:i.root,variant:"outlined",children:[Object(_.jsx)(T.a,{variant:"h6",className:i.title,children:t}),n]})},Je=Object(Ne.a)((function(e){return{root:{},title:{padding:e.spacing(2)}}})),Qe=function(e){var t=e.title,n=e.children,i=Je();return Object(_.jsxs)("div",{className:i.root,children:[Object(_.jsx)(T.a,{variant:"h6",className:i.title,children:t}),Object(_.jsx)(he.a,{children:n})]})},Ye=Object(Ne.a)((function(e){return{root:{height:"100%",width:"100%",minHeight:e.spacing(18),display:"flex",alignItems:"flex-end",borderRadius:e.spacing(2),backgroundImage:function(e){return"url(".concat(e.image,")")},backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},content:{padding:e.spacing(3)}}})),Ze=function(e){var t=e.title,n=e.image,i=e.icon,a=e.onClick,c=Ye({image:n});return Object(_.jsx)(Ie.a,{variant:"outlined",className:c.root,children:Object(_.jsx)(he.a,{className:c.content,children:Object(_.jsx)(W.a,{size:"large",variant:"contained",disableElevation:!0,color:"primary",startIcon:i,onClick:a,children:t})})})},$e=Object(k.a)((function(e){return{root:{display:"flex",width:"100%"},grid:{padding:e.spacing(1)},chartCardContent:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",boxSizing:"border-box"},logCardContent:{overflowX:"auto"},statisticCardContent:{display:"flex",alignItems:"flex-end",paddingTop:0,"& > :not(:last-child)":{marginRight:e.spacing(1)}}}})),et=function(){var e=$e(),t=Object(R.g)(),n=Object(s.c)((function(e){return e.xrays.files})),i=Object(s.c)((function(e){return e.xrays.files.map((function(e){return e.dateOfCompletePrediction-e.dateOfStartPrediction})).filter((function(e){return!Number.isNaN(e)})).reduce((function(e,t,n,i){return e+=t,n===i.length-1&&(e/=i.length),e}),0)}));return Object(_.jsx)("div",{className:e.root,children:Object(_.jsx)("div",{className:e.grid,children:Object(_.jsxs)(we.a,{container:!0,spacing:2,alignItems:"stretch",children:[Object(_.jsxs)(we.a,{item:!0,alignItems:"stretch",container:!0,spacing:2,md:3,children:[Object(_.jsx)(we.a,{item:!0,xs:12,sm:4,md:12,children:Object(_.jsx)(Ze,{title:"Predict",image:"images/xray.jpeg",icon:Object(_.jsx)(q.a,{}),onClick:function(){return e="/prediction",void t.push("".concat(e));var e}})}),Object(_.jsx)(we.a,{item:!0,xs:6,sm:4,md:12,children:Object(_.jsx)(Ge,{title:"Total X-Ray",children:Object(_.jsxs)(he.a,{className:e.statisticCardContent,children:[Object(_.jsx)(T.a,{color:"secondary",variant:"h5",children:n.length}),Object(_.jsx)(T.a,{color:"secondary",children:"images"})]})})}),Object(_.jsx)(we.a,{item:!0,xs:6,sm:4,md:12,children:Object(_.jsx)(Ge,{title:"Average prediction time",children:Object(_.jsxs)(he.a,{className:e.statisticCardContent,children:[Object(_.jsx)(T.a,{color:"secondary",variant:"h5",children:(i/6e4).toFixed(2)}),Object(_.jsx)(T.a,{color:"secondary",children:"minutes"})]})})})]}),Object(_.jsx)(we.a,{item:!0,xs:12,sm:6,md:!0,children:Object(_.jsx)(Ge,{title:"Prediction statistics",children:Object(_.jsx)(he.a,{className:e.chartCardContent,children:Object(_.jsx)(Ce,{})})})}),Object(_.jsx)(we.a,{item:!0,xs:12,sm:6,md:!0,children:Object(_.jsx)(Re,{items:[Object(_.jsx)(Qe,{title:"Covid-19",children:Object(_.jsxs)(T.a,{children:["Coronavirus disease (COVID-19) is an infectious disease caused by a newly discovered coronavirus.",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Most people infected with the COVID-19 virus will experience mild to moderate respiratory illness and recover without requiring special treatment. Older people, and those with underlying medical problems like cardiovascular disease, diabetes, chronic respiratory disease, and cancer are more likely to develop serious illness."]})}),Object(_.jsx)(Qe,{title:"Pneumonia",children:Object(_.jsxs)(T.a,{children:["Pneumonia is an inflammatory condition of the lung primarily affecting the small air sacs known as alveoli. Symptoms typically include some combination of productive or dry cough, chest pain, fever and difficulty breathing. The severity of the condition is variable.",Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),"Pneumonia is usually caused by infection with viruses or bacteria, and less commonly by other microorganisms. Identifying the responsible pathogen can be difficult. Diagnosis is often based on symptoms and physical examination. Chest X-rays, blood tests, and culture of the sputum may help confirm the diagnosis. The disease may be classified by where it was acquired, such as community- or hospital-acquired or healthcare-associated pneumonia."]})})]})}),Object(_.jsx)(we.a,{item:!0,xs:12,children:Object(_.jsx)(Ge,{title:"Prediction log",children:Object(_.jsx)(he.a,{className:e.logCardContent,children:Object(_.jsx)(qe,{})})})})]})})})},tt=n(55),nt=n.n(tt),it=n(105),at=Object(k.a)((function(e){return{root:{},input:{display:"none"}}})),ct=function(e){var t=e.onChange,n=e.children,i=at();return Object(_.jsxs)("div",{className:i.root,children:[Object(_.jsx)("input",{accept:"image/*",className:i.input,id:"contained-button-file",multiple:!0,type:"file",formEncType:"multipart/form-data",onChange:t}),Object(_.jsx)("label",{htmlFor:"contained-button-file",children:n})]})},rt=n(581),ot=n(568),st=n(509),lt=n(301),dt=n(543),jt=Object(k.a)((function(e){return{root:{margin:e.spacing(1)},paper:{display:"flex",flexDirection:"row",padding:e.spacing(2),borderRadius:e.spacing(2)},row:{},cell:{paddingRight:e.spacing(2)}}})),bt=function(e){var t=e.isOpen,n=e.anchorEl,i=e.onClickAway,a=e.data,c=jt();return Object(_.jsx)(dt.a,{onClickAway:i,children:Object(_.jsx)(st.a,{className:c.root,open:t,anchorEl:n,placement:"top",transition:!0,children:function(e){var t=e.TransitionProps;return Object(_.jsx)(ke.a,Object(b.a)(Object(b.a)({},t),{},{disableStrictModeCompat:!0,children:Object(_.jsx)(lt.a,{className:c.paper,children:Object(_.jsx)("table",{children:Object(_.jsx)("tbody",{children:a.sort((function(e,t){return t.value-e.value})).map((function(e,t){var n=e.label,i=e.value;return Object(_.jsxs)("tr",{className:c.row,children:[Object(_.jsx)("td",{align:"left",className:c.cell,children:Object(_.jsx)(T.a,{children:n})}),Object(_.jsx)("td",{align:"left",children:Object(_.jsx)(rt.a,{fontWeight:"fontWeightMedium",fontFamily:"fontFamily",children:"".concat((100*i).toFixed(1),"%")})})]},n)}))})})})}))}})})},ut=n(566),ht=n(567),pt=Object(k.a)((function(e){return{root:{width:"100%",height:"100%",marginBottom:e.spacing(1),borderRadius:e.spacing(2)},imageContainer:{display:"block",paddingBottom:"100%"},image:{position:"absolute",width:"100%",height:"100%",objectFit:"cover"}}})),ft=function(e){var t=e.fileUrl,n=pt();return Object(_.jsx)(Ie.a,{className:n.root,elevation:0,children:Object(_.jsx)(ut.a,{children:Object(_.jsx)("div",{className:n.imageContainer,children:Object(_.jsx)(ht.a,{className:n.image,component:"img",src:t})})})})},Ot=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%"},footer:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{marginRight:e.spacing(1),textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}})),mt=function(e){var t=e.file,n=Ot(),a=Object(s.c)((function(e){return e.xrays.labels})),c=Object(i.useState)(null),r=Object(o.a)(c,2),l=r[0],d=r[1];return Object(_.jsxs)("div",{className:n.root,children:[Object(_.jsx)(ft,{fileUrl:t.fileUrl}),Object(_.jsxs)("div",{className:n.footer,children:[Object(_.jsx)(ot.a,{interactive:!0,placement:"top",title:t.fileName,children:Object(_.jsx)(rt.a,{className:n.title,fontWeight:"fontWeightMedium",fontFamily:"fontFamily",children:t.fileName})}),Object(_.jsxs)("div",{children:["loading"===t.status&&Object(_.jsx)(ze.a,{color:"secondary",size:28,thickness:4}),"succeeded"===t.status&&Object(_.jsx)(We.a,{color:"secondary",variant:"outlined",clickable:!0,onClick:function(e){d(l?null:e.currentTarget)},label:a[t.probability.indexOf(Math.max.apply(Math,Object(j.a)(t.probability)))]})]})]}),Boolean(l)&&Object(_.jsx)(bt,{isOpen:Boolean(l),anchorEl:l,onClickAway:function(){d(null)},data:t.probability.map((function(e,t){return{label:a[t],value:e}}))})]})},xt=Object(i.memo)(mt),gt=n(297),yt=n(204),vt=n.n(yt);vt.a.defaults.baseURL="https://lungs-diseases-yh7cr.ondigitalocean.app";var Ct=function(e,t){var n=new FormData;return n.append("file",e),vt()({method:"post",url:"/predict",headers:{"Content-Type":"multipart/form-data"},data:n,onUploadProgress:t})},wt=function(e){return function(){var t=Object(it.a)(nt.a.mark((function t(n,i){var a;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i().xrays.files.filter((function(t){return t.status===e})),t.next=3,a.forEach((function(e){n(Nt(e))}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Nt=function(e){return function(){var t=Object(it.a)(nt.a.mark((function t(n){return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Dt({id:e.id,status:"loading",dateOfStartPrediction:new Date})),Ct(e.fileObj).then((function(t){t.data?n(Dt({id:e.id,status:"succeeded",probability:t.data.probability,dateOfCompletePrediction:new Date})):(n(Dt({id:e.id,status:"failed",dateOfCompletePrediction:new Date})),n(ne({message:"Upload file error"})))})).catch((function(t){n(Dt({id:e.id,status:"failed",dateOfCompletePrediction:new Date})),n(ne({message:"Upload file error"}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},kt=function(e){return function(){var t=Object(it.a)(nt.a.mark((function t(n){return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.forEach((function(e){return n(St(e))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},St=function(e){return function(t){var n={id:Object(gt.a)(),fileUrl:URL.createObjectURL(e),fileName:e.name,fileObj:e,dateOfStartPrediction:void 0,dateOfCompletePrediction:void 0,status:"idle",probability:[]};t({type:u,payload:n})}},Dt=function(e){return{type:f,payload:e}},Et=n(570),It=n(571),Pt=n(572),Rt=n(293),Ft=n(573),Bt=n(569),Tt=n(538),Ut=function(e){var t=e.children,n=e.window,i=Object(Bt.a)({target:n?n():void 0,threshold:0});return Object(_.jsx)(Tt.a,{in:!i,direction:"up",disableStrictModeCompat:!0,children:t})},Mt=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column"},actions:{display:"flex",marginBottom:e.spacing(4),"& > :not(:last-child)":{marginRight:e.spacing(2)}},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:e.zIndex.appBar},fabIcon:{marginRight:e.spacing(1)},noFilesAlert:{display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",flexGrow:1,marginTop:e.spacing(4)},marginBottom:{marginBottom:e.spacing(3)}}})),At=function(){var e=Mt(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.xrays.files})),a=Object(i.useContext)(w).isMobile,c=function(){var e=Object(it.a)(nt.a.mark((function e(n){var i;return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.files){e.next=6;break}return i=Array.from(n.target.files),e.next=4,t(kt(i));case 4:return e.next=6,t(wt("idle"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:e.root,children:[0===n.length?Object(_.jsxs)("div",{className:e.noFilesAlert,children:[Object(_.jsx)(T.a,{variant:"h6",className:e.marginBottom,children:"Upload x-ray to get started"}),Object(_.jsxs)(T.a,{align:"center",className:e.marginBottom,children:["Start uploading chest X-rays and getting predictions. ",Object(_.jsx)("br",{}),"Files you upload will show up here."]}),Object(_.jsx)(ct,{onChange:c,children:Object(_.jsx)(W.a,{size:"large",startIcon:Object(_.jsx)(Et.a,{}),variant:"contained",disableElevation:!0,color:"primary",children:"Upload"})})]}):Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:e.actions,children:[!a&&Object(_.jsx)(ct,{onChange:c,children:Object(_.jsx)(W.a,{startIcon:Object(_.jsx)(Et.a,{}),variant:"contained",disableElevation:!0,color:"primary",children:"Upload"})}),Object(_.jsx)(W.a,{startIcon:Object(_.jsx)(It.a,{}),disableElevation:!0,variant:"contained",onClick:function(){t((function(e,t){t().xrays.files.forEach((function(e){return URL.revokeObjectURL(e.fileUrl)})),e({type:p})}))},children:"Delete all"}),Object(_.jsx)(Rt.CSVLink,{style:{textDecoration:"none",color:"inherit"},data:n.map((function(e){return Object(b.a)({fileName:e.fileName},e.probability)})),filename:"predictions.csv",children:Object(_.jsx)(W.a,{startIcon:Object(_.jsx)(Pt.a,{}),variant:"contained",disableElevation:!0,children:"Export to CSV"})})]}),Object(_.jsx)(we.a,{container:!0,spacing:4,children:n.map((function(e){return Object(_.jsx)(we.a,{direction:"column",container:!0,item:!0,xs:12,sm:6,md:4,lg:3,children:Object(_.jsx)(xt,{file:e})},e.id)}))})]}),a&&0!==n.length&&Object(_.jsx)(ct,{onChange:c,children:Object(_.jsx)(Ut,{children:Object(_.jsxs)(Ft.a,{variant:"extended",color:"primary",component:"span",className:e.fab,children:[Object(_.jsx)(Et.a,{className:e.fabIcon}),"Upload"]})})})]})},Lt=Object(k.a)((function(e){return{root:{display:"flex",flexDirection:"column"}}})),zt=function(){var e=Lt();return Object(_.jsx)("div",{className:e.root})},Wt=Object(k.a)((function(e){return{root:{display:"flex"},page:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",padding:e.spacing(2)},mobilePadding:{padding:e.spacing(0,1)}}})),_t=function(){var e=Wt(),t=Object(F.a)(I.breakpoints.down("md"),{noSsr:!0}),n=Object(i.useState)((function(){return!t})),a=Object(o.a)(n,2),c=a[0],r=a[1];return Object(i.useEffect)((function(){t||r(!0)}),[t]),Object(_.jsx)(s.a,{store:C,children:Object(_.jsx)(N.a,{theme:Object(S.a)(I),children:Object(_.jsx)(te.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},TransitionComponent:B.a,children:Object(_.jsx)(w.Provider,{value:{isOpenDrawer:c,setIsOpenDrawer:r,isMobile:t},children:Object(_.jsx)(P.a,{children:Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)(ee,{}),Object(_.jsx)(ae,{}),Object(_.jsxs)("div",{className:Object(M.a)(e.page,t&&e.mobilePadding),children:[Object(_.jsx)(ue,{}),Object(_.jsxs)(R.d,{children:[Object(_.jsx)(R.b,{path:"/",exact:!0,component:et}),Object(_.jsx)(R.b,{path:"/prediction",exact:!0,component:At}),Object(_.jsx)(R.b,{path:"/settings",exact:!0,component:zt}),Object(_.jsx)(R.a,{from:"/*",to:"/"})]})]})]})})})})})})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,582)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),c(e),r(e)}))};r.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(_t,{})}),document.getElementById("root")),Xt()}},[[505,1,2]]]);
//# sourceMappingURL=main.be8f5fdb.chunk.js.map